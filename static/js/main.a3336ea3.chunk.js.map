{"version":3,"sources":["components/Card/index.js","assets/images/user-icon.jpg","components/Nav/index.js","assets/images/person-illustration.svg","assets/images/plus-icon.svg","assets/images/minus-icon.svg","assets/images/trash-icon.svg","components/ItemBag/index.js","components/Bag/index.js","App.js","index.js"],"names":["Card","filmes","addFilmesSacola","map","filme","className","style","background","poster_path","title","width","height","viewBox","fill","xmlns","d","vote_average","onClick","id","price","Nav","pesquisarFilmes","pesquisa","setPesquisa","opacity","onSubmit","type","placeholder","value","onChange","event","target","cx","cy","r","stroke","strokeWidth","strokeLinecap","strokeLinejoin","src","userImg","alt","ItemBag","plusIcon","qtd_bag","trashIcon","minusIcon","Bag","total","setShowSacola","showSacola","fillRule","clipRule","length","personIllustration","App","useState","setFilmes","sacola","setSacola","ranking","setRanking","setTotal","erro","setErro","carregando","setCarregando","verRanking","setVerRanking","a","fetch","method","response","json","results","filmesFormatados","push","message","localRanking","sort","b","splice","localSacola","indexFilme","findIndex","indexSacola","localTotal","preventDefault","resultado","filter","toLowerCase","includes","useEffect","popularFilmes","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a3336ea3.chunk.js","sourcesContent":["import \"./style.css\";\r\n\r\nfunction Card({ filmes, addFilmesSacola }) {\r\n  return (\r\n    <>\r\n      {filmes.map((filme) => (\r\n        <div\r\n          className=\"card-movie\"\r\n          style={{\r\n            background: `linear-gradient(rgba(0, 0, 0, 0.3) 100%, rgba(0, 0, 0, 0.3) 100%), url(${filme.poster_path}) no-repeat center / cover`,\r\n          }}\r\n          key={filme.id}\r\n        >\r\n          <div className=\"card-info\">\r\n            <h3>{filme.title}</h3>\r\n            <div className=\"card-star\">\r\n              <svg\r\n                width=\"13\"\r\n                height=\"12\"\r\n                viewBox=\"0 0 13 12\"\r\n                fill=\"none\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n              >\r\n                <path\r\n                  d=\"M6.5 0L7.95934 4.49139H12.6819L8.86126 7.26722L10.3206 11.7586L6.5 8.98278L2.6794 11.7586L4.13874 7.26722L0.318133 4.49139H5.04066L6.5 0Z\"\r\n                  fill=\"#FBCD6E\"\r\n                />\r\n              </svg>\r\n              {filme.vote_average}\r\n            </div>\r\n          </div>\r\n          <button\r\n            className=\"btn btn-roxo\"\r\n            onClick={() => addFilmesSacola(1, filme.id)}\r\n          >\r\n            Sacola <span>R$ {filme.price}</span>\r\n          </button>\r\n        </div>\r\n      ))}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","export default __webpack_public_path__ + \"static/media/user-icon.a3782081.jpg\";","import \"./style.css\";\r\nimport userImg from \"../../assets/images/user-icon.jpg\";\r\n\r\nfunction Nav({ pesquisarFilmes, pesquisa, setPesquisa }) {\r\n  return (\r\n    <nav>\r\n      <svg\r\n        width=\"32\"\r\n        height=\"36\"\r\n        viewBox=\"0 0 32 36\"\r\n        fill=\"none\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n      >\r\n        <path\r\n          d=\"M0.84523 21.3983L22.5309 8.74064C23.0166 8.45862 23.6384 8.48562 24.0931 8.81864C26.1534 10.3217 27.9941 11.8458 29.2222 13.1269C29.2222 13.1269 30.2802 14.1529 30.7381 14.8039C31.4774 15.692 31.8332 16.853 31.8332 17.9811C31.8332 19.2472 31.4434 20.4442 30.6669 21.4013C30.4906 21.5723 29.8193 22.3253 29.1851 22.9403C25.4852 26.7685 15.8272 33.0929 10.7476 35.01C10.0083 35.319 8.03461 35.964 7.01065 36C6.02381 36 5.071 35.796 4.15531 35.349C3.02927 34.7339 2.14761 33.7799 1.65264 32.6488C1.33401 31.8628 0.842137 29.5047 0.842137 29.4357C0.523502 27.7526 0.2853 25.3885 0.167746 22.6283C0.146091 22.1333 0.409042 21.6533 0.84523 21.3983Z\"\r\n          fill=\"#FCBDEB\"\r\n        />\r\n        <path\r\n          opacity=\"0.4\"\r\n          d=\"M2.29534 14.5806C1.33944 15.1416 0.136051 14.4246 0.182454 13.3475C0.296915 10.8214 0.494901 8.59529 0.736197 6.9392C0.773319 6.9032 1.26519 3.96605 1.83131 2.973C2.81815 1.12791 4.7547 -0.000145912 6.83665 -0.000145912H7.00989C8.35248 0.032855 11.2078 1.16091 11.2078 1.22991C12.6463 1.79694 14.5241 2.75699 16.5442 3.91205C17.4537 4.43408 17.4753 5.71514 16.5658 6.24617L2.29534 14.5806Z\"\r\n          fill=\"#F089D3\"\r\n        />\r\n      </svg>\r\n      <form onSubmit={pesquisarFilmes} className=\"search-container\">\r\n        <input\r\n          type=\"text\"\r\n          className=\"nav-search\"\r\n          placeholder=\"Pesquise filmes...\"\r\n          value={pesquisa}\r\n          onChange={(event) => setPesquisa(event.target.value)}\r\n        />\r\n        <svg\r\n          onClick={pesquisarFilmes}\r\n          viewBox=\"0 0 14 15\"\r\n          fill=\"none\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n        >\r\n          <circle\r\n            cx=\"6.84448\"\r\n            cy=\"6.84448\"\r\n            r=\"5.99243\"\r\n            stroke=\"white\"\r\n            strokeWidth=\"1.00001\"\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n          />\r\n          <path\r\n            opacity=\"0.4\"\r\n            d=\"M11.0122 11.3232L13.3616 13.6665\"\r\n            stroke=\"white\"\r\n            strokeWidth=\"1.00001\"\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </svg>\r\n      </form>\r\n      <div className=\"user-info\">\r\n        Bem vinda, Stef!\r\n        <img src={userImg} alt=\"Imagem do usuário\" />\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Nav;\r\n","export default __webpack_public_path__ + \"static/media/person-illustration.624d0311.svg\";","export default __webpack_public_path__ + \"static/media/plus-icon.53e515a2.svg\";","export default __webpack_public_path__ + \"static/media/minus-icon.6a22578b.svg\";","export default __webpack_public_path__ + \"static/media/trash-icon.d7e9e93e.svg\";","import plusIcon from \"../../assets/images/plus-icon.svg\";\r\nimport minusIcon from \"../../assets/images/minus-icon.svg\";\r\nimport trashIcon from \"../../assets/images/trash-icon.svg\";\r\nimport \"./style.css\";\r\n\r\nfunction ItemBag({ filme, addFilmesSacola }) {\r\n  return (\r\n    <div className=\"item-container\">\r\n      <img src={filme.poster_path} alt={`Poster do filme ${filme.title}`} />\r\n      <p className=\"item-title\">{filme.title}</p>\r\n      <p>R$ {filme.price}</p>\r\n      <div className=\"item-button\">\r\n        <button\r\n          className=\"item-btn add\"\r\n          onClick={() => addFilmesSacola(1, filme.id)}\r\n        >\r\n          <img src={plusIcon} alt=\"Icone de adição na sacola\" />\r\n        </button>\r\n        {filme.qtd_bag}\r\n        <button\r\n          className=\"item-btn minus\"\r\n          onClick={() => addFilmesSacola(-1, filme.id)}\r\n        >\r\n          {filme.qtd_bag === 1 && (\r\n            <img src={trashIcon} alt=\"Icone de remover item da sacola\" />\r\n          )}\r\n          {filme.qtd_bag > 1 && (\r\n            <img src={minusIcon} alt=\"Icone de subtração na sacola\" />\r\n          )}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ItemBag;\r\n","import \"./style.css\";\r\nimport personIllustration from \"../../assets/images/person-illustration.svg\";\r\nimport ItemBag from \"../ItemBag\";\r\n\r\nfunction Bag({ filmes, addFilmesSacola, total, setShowSacola, showSacola }) {\r\n  return (\r\n    <div className=\"bag-container\">\r\n      <div className=\"bag-title\" onClick={() => setShowSacola(!showSacola)}>\r\n        <svg\r\n          width=\"44\"\r\n          height=\"44\"\r\n          viewBox=\"0 0 44 44\"\r\n          fill=\"none\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n        >\r\n          <path\r\n            fillRule=\"evenodd\"\r\n            clipRule=\"evenodd\"\r\n            d=\"M20.7348 35.8354L11.0955 30.2701C7.55479 28.2259 5.57683 25.3787 9.32017 20.6769L14.246 14.2198C16.2045 11.9261 18.4102 11.889 19.8477 12.7189L31.6008 19.5046C33.0593 20.3467 33.9922 22.2945 33.1017 25.1062L29.9727 32.6006C27.9918 37.5449 24.2755 37.8796 20.7348 35.8354Z\"\r\n            stroke=\"white\"\r\n            strokeWidth=\"2\"\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n          />\r\n          <path\r\n            opacity=\"0.4\"\r\n            d=\"M30.8278 18.72C32.4185 15.9648 31.4745 12.4417 28.7193 10.851V10.851C27.3958 10.0794 25.8194 9.86674 24.3388 10.2601C22.8582 10.6535 21.5952 11.6205 20.8292 12.9473V12.9473\"\r\n            stroke=\"white\"\r\n            strokeWidth=\"2\"\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n          />\r\n          <path\r\n            d=\"M26.261 23.0168L26.2082 22.9863\"\r\n            stroke=\"white\"\r\n            strokeWidth=\"2\"\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n          />\r\n          <path\r\n            d=\"M19.5286 19.1296L19.4757 19.0991\"\r\n            stroke=\"white\"\r\n            strokeWidth=\"2\"\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </svg>\r\n        <h2>Sacola</h2>\r\n      </div>\r\n      <div className={`bag-content ${showSacola ? \"show\" : \"\"}`}>\r\n        {filmes.length === 0 && (\r\n          <>\r\n            <h2>Sua sacola está vazia</h2>\r\n            <p>Adicione filmes agora</p>\r\n            <img\r\n              src={personIllustration}\r\n              alt=\"Ilustração de uma pessoa se enconstado em um celular com o logo da Cubos Flix\"\r\n            />\r\n          </>\r\n        )}\r\n        {filmes.length > 0 && (\r\n          <>\r\n            {filmes.map((filme) => (\r\n              <ItemBag\r\n                key={filme.id}\r\n                filme={filme}\r\n                addFilmesSacola={addFilmesSacola}\r\n              />\r\n            ))}\r\n            <button className=\"btn btn-rosa\">\r\n              Confirme os seus dados <span>R$ {total}</span>\r\n            </button>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Bag;\r\n","import Card from \"./components/Card\";\r\nimport Nav from \"./components/Nav\";\r\nimport Bag from \"./components/Bag\";\r\nimport { useState, useEffect } from \"react\";\r\nimport \"./App.css\";\r\n\r\nfunction App() {\r\n  const [filmes, setFilmes] = useState([]);\r\n  const [sacola, setSacola] = useState([]);\r\n  const [ranking, setRanking] = useState([]);\r\n  const [total, setTotal] = useState(0);\r\n  const [pesquisa, setPesquisa] = useState(\"\");\r\n  const [erro, setErro] = useState(\"\");\r\n  const [carregando, setCarregando] = useState(true);\r\n  const [verRanking, setVerRanking] = useState(true); //não quero o top ranking quando pesquiso\r\n  const [showSacola, setShowSacola] = useState(false); //para o responsivo\r\n\r\n  useEffect(() => {\r\n    popularFilmes();\r\n  }, []);\r\n\r\n  async function pesquisarFilmes() {\r\n    setCarregando(true);\r\n    try {\r\n      const response = await fetch(\r\n        \"https://tmdb-proxy-workers.vhfmag.workers.dev/3/discover/movie?language=pt-BR\",\r\n        {\r\n          method: \"GET\",\r\n        }\r\n      );\r\n\r\n      const { results } = await response.json();\r\n      const filmesFormatados = [];\r\n\r\n      for (const filme of results) {\r\n        filmesFormatados.push({\r\n          id: filme.id,\r\n          title: filme.title,\r\n          poster_path: filme.poster_path,\r\n          vote_average: filme.vote_average,\r\n          price: filme.price,\r\n        });\r\n      }\r\n      setCarregando(false);\r\n      return filmesFormatados;\r\n    } catch {\r\n      setCarregando(false);\r\n      return setErro(erro.message);\r\n    }\r\n  }\r\n\r\n  async function popularFilmes() {\r\n    const filmesFormatados = await pesquisarFilmes();\r\n    if (erro) return;\r\n    setFilmes(filmesFormatados);\r\n\r\n    let localRanking = [...filmesFormatados].sort((a, b) => {\r\n      return b.vote_average - a.vote_average;\r\n    });\r\n    localRanking = localRanking.splice(0, 5);\r\n    setRanking(localRanking);\r\n  }\r\n\r\n  async function addFilmesSacola(value, id) {\r\n    const localSacola = [...sacola];\r\n    const indexFilme = filmes.findIndex((filme) => filme.id === id);\r\n    let indexSacola = localSacola.findIndex((filme) => filme.id === id);\r\n\r\n    if (indexSacola === -1) {\r\n      localSacola.push({\r\n        ...filmes[indexFilme],\r\n        qtd_bag: 0,\r\n      });\r\n      indexSacola = localSacola.length - 1;\r\n    }\r\n\r\n    const localTotal = total + value * localSacola[indexSacola].price;\r\n\r\n    localSacola[indexSacola].qtd_bag += value;\r\n    if (localSacola[indexSacola].qtd_bag === 0)\r\n      localSacola.splice(indexSacola, 1);\r\n\r\n    setSacola([...localSacola]);\r\n    setTotal(localTotal);\r\n  }\r\n\r\n  async function filtrarFilmes(event) {\r\n    event.preventDefault();\r\n    const filmesFormatados = await pesquisarFilmes();\r\n\r\n    if (!pesquisa) {\r\n      setVerRanking(true);\r\n      setFilmes(filmesFormatados);\r\n      return;\r\n    }\r\n\r\n    const resultado = filmesFormatados.filter((filme) =>\r\n      filme.title.toLowerCase().includes(pesquisa.toLowerCase())\r\n    );\r\n    setFilmes(resultado);\r\n    setVerRanking(false);\r\n  }\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <Nav\r\n        pesquisarFilmes={filtrarFilmes}\r\n        pesquisa={pesquisa}\r\n        setPesquisa={setPesquisa}\r\n      />\r\n      <div className=\"container\">\r\n        {erro && (\r\n          <p className=\"error\">\r\n            <span>Error:</span> {erro}\r\n          </p>\r\n        )}\r\n        {carregando && <p className=\"loading\" />}\r\n        {!carregando && !erro && (\r\n          <div>\r\n            {verRanking && (\r\n              <>\r\n                <h2>Top Filmes</h2>\r\n                <div className=\"container-filmes\">\r\n                  <Card filmes={ranking} addFilmesSacola={addFilmesSacola} />\r\n                </div>\r\n              </>\r\n            )}\r\n\r\n            <h2>Filmes</h2>\r\n            <div className=\"container-filmes\">\r\n              <Card filmes={filmes} addFilmesSacola={addFilmesSacola} />\r\n            </div>\r\n          </div>\r\n        )}\r\n        <Bag\r\n          filmes={sacola}\r\n          addFilmesSacola={addFilmesSacola}\r\n          total={total}\r\n          setShowSacola={setShowSacola}\r\n          showSacola={showSacola}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}